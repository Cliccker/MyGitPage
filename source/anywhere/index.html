<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å’–å•¡å“é‰´äº¤äº’æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Visualization & Content Choices:
        - Bean Varieties (Major & Arabica): Clickable cards display details. Bar chart (Chart.js) for comparing attributes like production share or caffeine. Goal: Compare & Inform. Justification: Interactive exploration of rich data.
        - Roasting: Buttons for roast levels update text, a visual bean color representation (CSS), and a Radar chart (Chart.js) for flavor profiles (acidity, sweetness, bitterness, body). Goal: Show differences. Justification: Multi-modal comparison.
        - Acidity: Definition with interactive keyword hovers. Clickable list of acids shows flavor contributions. Interactive diagram for influencing factors. Goal: Educate & Clarify. Justification: Layered information access.
        - Processing Methods: Clickable tabs/cards for main methods update details and a comparative Bar chart (Chart.js) for flavor/acidity/body. Accordions for other methods. Goal: Compare & Detail. Justification: Structured presentation of complex info.
        - Body: Interactive selector for body types (Light, Medium, Full) updates descriptors. Interactive diagram for influencing factors. Goal: Explain & Visualize. Justification: Tangible representation of abstract concept.
        - Tasting/Cupping: Interactive step-by-step guide. Goal: Guide. Justification: Clear procedural learning.
        - All tables from the source report are transformed into these interactive elements or used as data sources for charts.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 1rem;
        }
        .nav-button {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: background-color 0.3s, color 0.3s;
            cursor: pointer;
        }
        .nav-button.active {
            background-color: #d97706; /* amber-600 */
            color: white;
        }
        .nav-button:not(.active):hover {
            background-color: #f59e0b; /* amber-500 */
            color: white;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .interactive-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .interactive-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }
        .interactive-card.selected {
            outline: 2px solid #d97706; /* amber-600 */
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            border: 1px solid #e5e7eb; /* gray-200 */
            background-color: #f9fafb; /* gray-50 */
            color: #374151; /* gray-700 */
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        .tab-button.active {
            background-color: #d97706; /* amber-600 */
            color: white;
            border-color: #d97706; /* amber-600 */
        }
        .tab-button:not(.active):hover {
            background-color: #fde68a; /* amber-200 */
        }
        /* Tooltip for acidity keywords */
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted #d97706; /* amber-600 */
            cursor: help;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 160px;
            background-color: #374151; /* gray-700 */
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 0;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -80px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #374151 transparent transparent transparent;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
         /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #d97706; /* amber-600 */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #b45309; /* amber-700 */
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800 min-h-screen flex flex-col">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <h1 class="text-3xl font-bold text-amber-700 text-center">å’–å•¡å“é‰´äº¤äº’æŒ‡å—</h1>
            <nav class="mt-4">
                <ul class="flex flex-wrap justify-center gap-2 md:gap-4">
                    <li><button class="nav-button active" data-target="home">é¦–é¡µ</button></li>
                    <li><button class="nav-button" data-target="beans">å’–å•¡è±†</button></li>
                    <li><button class="nav-button" data-target="roasting">çƒ˜ç„™è‰ºæœ¯</button></li>
                    <li><button class="nav-button" data-target="acidity">è§£å¯†é…¸åº¦</button></li>
                    <li><button class="nav-button" data-target="processing">å¤„ç†é­”æ³•</button></li>
                    <li><button class="nav-button" data-target="body">é†‡åšåº¦</button></li>
                    <li><button class="nav-button" data-target="tasting">å“é‰´ä¹‹é“</button></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-grow">
        <section id="home" class="content-section active space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-semibold text-amber-700 mb-4">æ¬¢è¿æ¥åˆ°å’–å•¡çš„å¥‡å¦™ä¸–ç•Œï¼</h2>
                <p class="text-lg leading-relaxed">å’–å•¡ï¼Œè¿™ä¸€æ·±é‚ƒè€Œè¿·äººçš„é¥®å“ï¼Œæ—©å·²è¶…è¶Šäº†ç®€å•çš„æç¥é†’è„‘åŠŸèƒ½ï¼Œæ¼”å˜ä¸ºä¸€ç§éå¸ƒå…¨çƒçš„æ–‡åŒ–ç°è±¡å’Œç”Ÿæ´»æ–¹å¼çš„è±¡å¾ã€‚ä»è¡—è§’çš„å’–å•¡é¦†åˆ°ç²¾è‡´çš„å•ä¸€äº§åœ°æ‰‹å†²å§ï¼Œå’–å•¡ä»¥å…¶åƒå˜ä¸‡åŒ–çš„é£å‘³å’Œç‹¬ç‰¹çš„åœ°åŸŸçƒ™å°ï¼Œå¸å¼•ç€æ— æ•°çˆ±å¥½è€…æŠ•å…¥å…¶ä¸­ã€‚</p>
                <p class="mt-4 text-lg leading-relaxed">å“é‰´å’–å•¡ï¼Œä¸ä»…ä»…æ˜¯å‘³è•¾çš„äº«å—ï¼Œæ›´æ˜¯ä¸€åœºè°ƒåŠ¨æ‰€æœ‰æ„Ÿå®˜çš„æ¢ç´¢ä¹‹æ—…ã€‚å®ƒå…³ä¹å¯¹å’–å•¡è±†èƒŒåæ•…äº‹çš„ç†è§£ï¼Œå¯¹çƒ˜ç„™å¸ˆåŒ å¿ƒç‹¬è¿çš„è‡´æ•¬ï¼Œä»¥åŠå¯¹å†²ç…®è€…ç²¾æ¹›æŠ€è‰ºçš„æ¬£èµã€‚é€šè¿‡å“é‰´ï¼Œæˆ‘ä»¬å¾—ä»¥æ‰“å¼€ä¸€æ‰‡é€šå¾€å¹¿é˜”é£å‘³ä¸–ç•Œçš„å¤§é—¨ï¼Œä½“éªŒä»èŠ±é¦™ã€æœé…¸åˆ°åšæœã€å·§å…‹åŠ›ç­‰çº·ç¹å¤æ‚çš„å±‚æ¬¡ï¼Œæ„Ÿå—ä¸åŒäº§åœ°ã€å“ç§ã€å¤„ç†æ–¹å¼å’Œçƒ˜ç„™ç¨‹åº¦æ‰€èµ‹äºˆå’–å•¡çš„ç‹¬ç‰¹çµé­‚ã€‚</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h3 class="text-xl font-semibold text-amber-700 mb-3">æœ¬æŒ‡å—å°†å¸¦æ‚¨æ¢ç´¢ï¼š</h3>
                <ul class="list-disc list-inside space-y-2 text-stone-700">
                    <li>å’–å•¡è±†çš„å¥‡å¦™ä¸–ç•Œï¼šé˜¿æ‹‰æ¯”å¡ã€ç½—å¸ƒæ–¯å¡”ã€åˆ©æ¯”é‡Œå¡åŠå…¶æ˜æ˜Ÿäºšç§ã€‚</li>
                    <li>çƒ˜ç„™çš„è‰ºæœ¯ï¼šæµ…ã€ä¸­ã€æ·±åº¦çƒ˜ç„™å¦‚ä½•ç‚¹äº®å’–å•¡è±†çš„çµé­‚ã€‚</li>
                    <li>è§£å¯†å’–å•¡ä¹‹é…¸ï¼šç†è§£â€œé…¸å‘³â€ä½œä¸ºæ­£é¢é£å‘³æŒ‡æ ‡çš„çœŸæ­£å«ä¹‰ã€‚</li>
                    <li>å¤„ç†æ³•ä¹‹é­”æ³•ï¼šæ°´æ´—ã€æ—¥æ™’ã€èœœå¤„ç†ç­‰å¦‚ä½•å¡‘é€ é£å‘³åŸºè°ƒã€‚</li>
                    <li>å’–å•¡çš„é†‡åšåº¦ï¼šæ¢ç´¢å£æ„Ÿçš„é‡é‡ä¸è´¨æ„Ÿã€‚</li>
                    <li>å“é‰´ä¹‹é“ä¸é£å‘³è¯­è¨€ï¼šæŒæ¡å“é‰´æ­¥éª¤ä¸æŠ€å·§ã€‚</li>
                </ul>
                <p class="mt-4 text-lg leading-relaxed">å‡†å¤‡å¥½å¯ç¨‹ï¼Œä¸€åŒæ¢ç´¢å’–å•¡çš„å¥¥ç§˜ï¼Œæå‡æ‚¨çš„å“é‰´èƒ½åŠ›ï¼Œæ›´æ·±åˆ»åœ°äº«å—æ¯ä¸€æ¬¡å“é¥®å¸¦æ¥çš„æ„‰æ‚¦å§ï¼</p>
            </div>
        </section>

        <section id="beans" class="content-section space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-semibold text-amber-700 mb-4">å’–å•¡è±†çš„å¥‡å¦™ä¸–ç•Œ</h2>
                <p class="text-lg leading-relaxed mb-6">å’–å•¡çš„é£å‘³ä¹‹æ—…å§‹äºå’–å•¡è±†æœ¬èº«ã€‚ä¸åŒçš„å’–å•¡æ ‘ç§åŠå…¶ä¸‹çš„è¯¸å¤šäºšç§ï¼Œæ˜¯æ„æˆå’–å•¡ä¸‡åƒé£å‘³çš„ç¬¬ä¸€å—åŸºçŸ³ã€‚äº†è§£å®ƒä»¬å„è‡ªçš„ç‰¹æ€§ï¼Œæ˜¯å“é‰´å’–å•¡çš„å…¥é—¨å¿…ä¿®è¯¾ã€‚</p>

                <div class="mb-8">
                    <h3 class="text-xl font-semibold text-amber-600 mb-3">ä¸»è¦å’–å•¡å“ç§</h3>
                    <p class="mb-4 text-stone-700">å…¨çƒå•†ä¸šç§æ¤çš„å’–å•¡è±†ä¸»è¦å¯åˆ†ä¸ºä¸‰å¤§å“ç§ï¼šé˜¿æ‹‰æ¯”å¡ï¼ˆArabicaï¼‰ã€ç½—å¸ƒæ–¯å¡”ï¼ˆRobustaï¼‰å’Œåˆ©æ¯”é‡Œå¡ï¼ˆLibericaï¼‰ã€‚å®ƒä»¬åœ¨é£å‘³ã€å’–å•¡å› å«é‡ã€ç§æ¤æ¡ä»¶ä¹ƒè‡³å¸‚åœºå®šä½ä¸Šéƒ½æœ‰ç€æ˜¾è‘—çš„å·®å¼‚ã€‚</p>
                    <div class="grid md:grid-cols-3 gap-6 mb-6" id="majorVarietiesContainer">
                        </div>
                    <div id="majorVarietyDetail" class="mt-6 p-4 bg-stone-50 rounded-lg shadow">
                        <p class="text-center text-stone-500">ç‚¹å‡»ä¸Šæ–¹çš„å¡ç‰‡æŸ¥çœ‹å“ç§è¯¦æƒ…ã€‚</p>
                    </div>
                    <div class="chart-container mt-6 h-72 md:h-96 max-h-[400px] mx-auto max-w-2xl">
                        <canvas id="majorVarietiesChart"></canvas>
                    </div>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-amber-600 mb-3">é˜¿æ‹‰æ¯”å¡å®¶æ—çš„æ˜æ˜Ÿï¼šæ¢ç´¢çƒ­é—¨äºšç§</h3>
                    <p class="mb-4 text-stone-700">ç²¾å“å’–å•¡çš„ä¸–ç•Œå‡ ä¹å®Œå…¨å›´ç»•ç€é˜¿æ‹‰æ¯”å¡å“ç§å±•å¼€ã€‚åœ¨å…¶æ¼«é•¿çš„æ¼”åŒ–ã€è‡ªç„¶çªå˜ã€äººå·¥æ‚äº¤å’Œé€‰è‚²å†ç¨‹ä¸­ï¼Œè¯ç”Ÿäº†ä¼—å¤šé£å‘³å„å¼‚ã€ç‰¹æ€§é²œæ˜çš„äºšç§ã€‚äº†è§£è¿™äº›æ˜æ˜Ÿäºšç§çš„ç‰¹ç‚¹ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬æ›´ç²¾å‡†åœ°å®šä½è‡ªå·±å–œçˆ±çš„é£å‘³ã€‚</p>
                    <div class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-6" id="arabicaSubVarietiesContainer">
                        </div>
                    <div id="arabicaSubVarietyDetail" class="mt-6 p-4 bg-stone-50 rounded-lg shadow">
                         <p class="text-center text-stone-500">ç‚¹å‡»ä¸Šæ–¹çš„é˜¿æ‹‰æ¯”å¡äºšç§å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…ã€‚</p>
                    </div>
                </div>
                 <div class="mt-8 bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-amber-600 mb-3">å¦‚ä½•æ ¹æ®å–œå¥½é€‰æ‹©å’–å•¡è±†ï¼Ÿ</h3>
                    <p class="mb-2 text-stone-700"><strong>åŸºäºä¸»è¦å“ç§çš„é€‰æ‹©ï¼š</strong></p>
                    <ul class="list-disc list-inside space-y-1 text-stone-600 mb-4">
                        <li>å–œçˆ±å£æ„ŸæŸ”å’Œã€é¦™æ°”é¦¥éƒã€é£å‘³å±‚æ¬¡ä¸°å¯Œï¼šé€‰ <strong>é˜¿æ‹‰æ¯”å¡</strong>ã€‚</li>
                        <li>åçˆ±å£æ„Ÿå¼ºçƒˆã€é†‡åšæµ“éƒã€é«˜å’–å•¡å› ï¼šé€‰ <strong>ç½—å¸ƒæ–¯å¡”</strong>ã€‚</li>
                        <li>è¿½æ±‚ç‹¬ç‰¹ã€çƒŸç†é£å‘³ã€èŠ±é¦™ç”œæ„Ÿï¼šå°è¯• <strong>åˆ©æ¯”é‡Œå¡</strong>ã€‚</li>
                    </ul>
                    <p class="mb-2 text-stone-700"><strong>åœ¨é˜¿æ‹‰æ¯”å¡å†…éƒ¨è¿›è¡Œé€‰æ‹©ï¼š</strong></p>
                    <ul class="list-disc list-inside space-y-1 text-stone-600 mb-4">
                        <li>é’Ÿæƒ…æ˜äº®æœé…¸ã€ä¼˜é›…èŠ±é¦™ï¼šå…³æ³¨åŸƒå¡ä¿„æ¯”äºšå¤ä¼˜åŸç”Ÿç§ã€è‚¯å°¼äºšSLç³»åˆ—ã€é«˜æµ·æ‹”ç‘°å¤ã€‚</li>
                        <li>åå¥½é£å‘³å‡è¡¡ã€ç”œæ„Ÿçªå‡ºã€ç»å…¸å·§å…‹åŠ›/åšæœé£å‘³ï¼šå°è¯•å·´è¥¿æ³¢æ—ã€å¡æœè‰¾ã€è’™å¤šè¯ºæ²ƒï¼Œæˆ–å“¥ä¼¦æ¯”äºšé˜¿æ‹‰æ¯”å¡ã€‚</li>
                    </ul>
                     <p class="text-stone-700"><strong>è€ƒè™‘çƒ˜ç„™ç¨‹åº¦ï¼š</strong>æµ…çƒ˜æ›´èƒ½å±•ç°äº§åœ°é£å‘³å’Œé…¸ç”œæ„Ÿï¼Œæ·±çƒ˜åˆ™å¸¦æ¥æµ“éƒé†‡åšåº¦å’Œç„¦ç³–åŒ–é£å‘³ï¼Œä½†ä¼šå‰Šå¼±äº§åœ°ç‰¹æ€§ã€‚</p>
                </div>
            </div>
        </section>

        <section id="roasting" class="content-section space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-semibold text-amber-700 mb-4">çƒ˜ç„™çš„è‰ºæœ¯â€”â€”ç‚¹äº®å’–å•¡è±†çš„çµé­‚</h2>
                <p class="text-lg leading-relaxed mb-6">å¦‚æœè¯´å’–å•¡è±†æ˜¯ä¹è°±ï¼Œé‚£ä¹ˆçƒ˜ç„™å¸ˆå°±æ˜¯æŒ‡æŒ¥å®¶ã€‚å’–å•¡çƒ˜ç„™æ˜¯ä¸€ä¸ªå¤æ‚è€Œå…³é”®çš„è¿‡ç¨‹ï¼Œå®ƒä¸ä»…èµ‹äºˆå’–å•¡è±†æˆ‘ä»¬æ‰€ç†Ÿæ‚‰çš„æ£•è‰²è‰²æ³½å’Œè¯±äººé¦™æ°”ï¼Œæ›´æ·±åˆ»åœ°å†³å®šäº†æœ€ç»ˆé¥®å“å‘ˆç°å‡ºçš„é…¸åº¦ã€ç”œåº¦ã€è‹¦åº¦ã€é†‡åšåº¦ä»¥åŠæ•´ä½“é£å‘³ç‰¹å¾ã€‚</p>

                <div class="mb-6 flex flex-wrap justify-center gap-3">
                    <button class="tab-button active" data-roast="light">æµ…åº¦çƒ˜ç„™</button>
                    <button class="tab-button" data-roast="medium">ä¸­åº¦çƒ˜ç„™</button>
                    <button class="tab-button" data-roast="dark">æ·±åº¦çƒ˜ç„™</button>
                </div>

                <div class="grid md:grid-cols-2 gap-6 items-start">
                    <div id="roastInfoContainer" class="space-y-4">
                        </div>
                    <div class="space-y-6">
                        <div id="roastBeanVisualContainer" class="text-center p-4 bg-stone-50 rounded-lg">
                            <p class="text-lg font-medium text-stone-700 mb-2">å’–å•¡è±†å¤–è§‚æ¨¡æ‹Ÿ</p>
                            <div id="roastBeanColor" class="w-32 h-32 mx-auto rounded-full border-4 border-stone-300 transition-colors duration-500" title="æ¨¡æ‹Ÿå’–å•¡è±†é¢œè‰²"></div>
                            <p id="roastBeanOil" class="mt-2 text-sm text-stone-600"></p>
                        </div>
                        <div class="chart-container h-72 md:h-96 max-h-[450px]">
                            <canvas id="roastProfileChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="mt-8">
                    <h3 class="text-xl font-semibold text-amber-600 mb-3">çƒ˜ç„™è¿‡ç¨‹ä¸­çš„ç‰©ç†å˜åŒ–</h3>
                    <ul class="list-disc list-inside space-y-1 text-stone-700">
                        <li><strong>é¢œè‰²ï¼š</strong>ä»ç”Ÿè±†çš„è“ç»¿è‰²/ç°ç»¿è‰²ï¼Œé€æ¸å˜ä¸ºæµ…é»„ã€è‚‰æ¡‚è‰²ï¼ˆæµ…çƒ˜ï¼‰ã€æ£•è‰²ï¼ˆä¸­çƒ˜ï¼‰ï¼Œå†åˆ°æ·±è¤ã€é»‘è¤è‰²ï¼ˆæ·±çƒ˜ï¼‰ã€‚</li>
                        <li><strong>æ°´åˆ†ï¼š</strong>ç”Ÿè±†å«æ°´ç‡çº¦8-12%ï¼Œçƒ˜ç„™é¦–å…ˆæ˜¯è„±æ°´è¿‡ç¨‹ã€‚</li>
                        <li><strong>é‡é‡ï¼š</strong>å› æ°´åˆ†è’¸å‘å’Œæœ‰æœºç‰©åˆ†è§£ï¼Œé‡é‡å‡è½»12-25%ã€‚</li>
                        <li><strong>ä½“ç§¯ï¼š</strong>å†…éƒ¨æ°”ä½“è†¨èƒ€ï¼Œä½“ç§¯å¢å¤§ï¼Œå¯è¾¾ä¸¤å€ã€‚</li>
                        <li><strong>æ²¹è„‚ï¼š</strong>æ·±çƒ˜æ—¶ï¼Œå†…éƒ¨æ²¹è„‚è¢«é€¼å‡ºåˆ°è±†è¡¨ï¼Œè±†è¡¨æ²¹äº®ã€‚</li>
                        <li><strong>çˆ†è£‚ï¼š</strong>ä¸€çˆ†ï¼ˆçº¦196-205Â°Cï¼Œæµ…çƒ˜æ ‡å¿—ï¼‰ï¼ŒäºŒçˆ†ï¼ˆçº¦224-234Â°Cï¼Œæ·±çƒ˜æ ‡å¿—ï¼‰ã€‚</li>
                    </ul>
                </div>
                 <div class="mt-8">
                    <h3 class="text-xl font-semibold text-amber-600 mb-3">çƒ˜ç„™å¦‚ä½•å½±å“é£å‘³ï¼šæ ¸å¿ƒåŒ–å­¦ååº”</h3>
                    <ul class="list-disc list-inside space-y-2 text-stone-700">
                        <li><strong>ç¾æ‹‰å¾·ååº” (Maillard Reaction):</strong> ç³–ç±»ä¸æ°¨åŸºé…¸åœ¨çº¦140-170Â°Cååº”ï¼Œäº§ç”Ÿçƒ˜çƒ¤é¦™ã€åšæœé¦™ã€éº¦èŠ½é¦™ç­‰å¤šç§é£å‘³ï¼Œå¹¶ä½¿è±†å­å˜æ£•ã€‚</li>
                        <li><strong>ç„¦ç³–åŒ–ååº” (Caramelization):</strong> ç³–åˆ†åœ¨çº¦170Â°Cä»¥ä¸Šçƒ­è£‚è§£ï¼Œå½¢æˆç„¦ç³–é£å‘³ï¼ˆç”œã€è‹¦ã€é…¸äº¤ç»‡ï¼‰ï¼Œé¢œè‰²åŠ æ·±ã€‚</li>
                        <li><strong>æœ‰æœºé…¸çš„é™è§£ä¸è½¬åŒ–:</strong> ç”Ÿè±†ä¸­çš„ç»¿åŸé…¸ã€æŸ æª¬é…¸ã€è‹¹æœé…¸ç­‰åœ¨çƒ˜ç„™ä¸­é™è§£æˆ–è½¬åŒ–ï¼Œç›´æ¥å½±å“é…¸åº¦ç‰¹æ€§ã€‚æµ…ä¸­çƒ˜ä¿ç•™æ›´å¤šæœé…¸ï¼Œæ·±çƒ˜åˆ™é…¸åº¦å¤§å‡ã€‚</li>
                    </ul>
                    <p class="mt-2 text-stone-700">çƒ˜ç„™å¸ˆé€šè¿‡æ§åˆ¶â€œçƒ˜ç„™æ›²çº¿â€ï¼ˆå‡æ¸©é€Ÿç‡å’Œæ€»æ—¶é•¿ï¼‰æ¥è°ƒæ§è¿™äº›ååº”ï¼Œå¡‘é€ æœ€ç»ˆé£å‘³ã€‚æµ…çƒ˜å‡¸æ˜¾åŸå§‹é£å‘³ï¼Œæ·±çƒ˜åˆ›é€ çƒ˜ç„™èµ‹äºˆçš„æµ“éƒé£å‘³ã€‚</p>
                </div>
            </div>
        </section>

        <section id="acidity" class="content-section space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-semibold text-amber-700 mb-4">è§£å¯†å’–å•¡ä¹‹é…¸â€”â€”é£å‘³çš„çµé­‚</h2>
                <p class="text-lg leading-relaxed mb-4">åœ¨å’–å•¡å“é‰´ä¸­ï¼Œâ€œé…¸å‘³â€å¹¶éæŒ‡pHå€¼çš„é…¸ç¢±åº¦ï¼Œè€Œæ˜¯ä¸€ç§åœ¨å£è…”ä¸­ä½“éªŒåˆ°çš„
                    <span class="tooltip">æ˜äº®<span class="tooltiptext">åƒé˜³å…‰ä¸€æ ·æ¸…æ™°ã€æŒ¯å¥‹çš„æ„Ÿè§‰ã€‚</span></span>ã€
                    <span class="tooltip">æ´»æ³¼<span class="tooltiptext">å¯Œæœ‰ç”Ÿæ°”å’Œè·³è·ƒæ„Ÿã€‚</span></span>ã€
                    <span class="tooltip">æ¸…çˆ½<span class="tooltiptext">å¹²å‡€ã€ä¸æ‹–æ²“ï¼Œä»¤äººç²¾ç¥ä¸€æŒ¯ã€‚</span></span>
                    çš„æ„Ÿè§‰ã€‚å®ƒæ˜¯æ„æˆå’–å•¡é£å‘³é­…åŠ›çš„æ ¸å¿ƒå…ƒç´ ä¹‹ä¸€ï¼Œæ˜¯è¡¡é‡å’–å•¡å“è´¨å’Œå¤æ‚åº¦çš„é‡è¦æ­£é¢æŒ‡æ ‡ã€‚
                </p>
                <p class="text-stone-700 mb-6">ä¼˜è´¨çš„é…¸è´¨å¦‚åŒä¹æ›²ä¸­çš„é«˜éŸ³ï¼Œèƒ½æäº®æ•´ä½“é£å‘³ï¼Œèµ‹äºˆå’–å•¡å±‚æ¬¡æ„Ÿå’Œæ´»åŠ›ã€‚æè¿°æ­£é¢é…¸åº¦å¸¸ç”¨è¯ï¼šæ˜äº® (bright)ã€æ´»æ³¼ (lively)ã€æŸ‘æ©˜èˆ¬ (citrusy)ã€è“æœèˆ¬ (berry-like)ã€‚è´Ÿé¢åˆ™å¯èƒ½æŒ‡ï¼šå¹³æ·¡ (flat)ã€è¿‡é…¸/é…¸æ¶© (sour)ã€‚</p>

                <div class="mb-8">
                    <h3 class="text-xl font-semibold text-amber-600 mb-3">å’–å•¡ä¸­çš„ä¸»è¦é…¸æ€§ç‰©è´¨åŠå…¶é£å‘³è´¡çŒ®</h3>
                    <div class="space-y-3" id="acidsContainer">
                        </div>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-amber-600 mb-3">å½±å“å’–å•¡é…¸åº¦çš„å› ç´ </h3>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4" id="acidityFactorsContainer">
                        </div>
                    <p class="mt-4 text-stone-700">ç†è§£è¿™äº›å› ç´ ï¼Œæœ‰åŠ©äºæˆ‘ä»¬æ ¹æ®å£å‘³åå¥½é€‰æ‹©å’–å•¡è±†å’Œè°ƒæ•´å†²ç…®ã€‚å–œçˆ±æ˜äº®é…¸è´¨è€…å¯é€‰é«˜æµ·æ‹”æ°´æ´—é˜¿æ‹‰æ¯”å¡æµ…çƒ˜è±†ã€‚é…¸åº¦æœ¬èº«æ— å¥½åï¼Œå…³é”®åœ¨äºå¹³è¡¡ä¸é€‚å®œæ€§ã€‚</p>
                </div>
            </div>
        </section>

        <section id="processing" class="content-section space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-semibold text-amber-700 mb-4">å¤„ç†æ³•ä¹‹é­”æ³•â€”â€”å¡‘é€ å’–å•¡é£å‘³çš„å…³é”®</h2>
                <p class="text-lg leading-relaxed mb-6">å’–å•¡æœå®ä»é²œçº¢çš„æ¨±æ¡ƒçŠ¶å˜ä¸ºç»¿è‰²ç”Ÿè±†ï¼Œå¿…é¡»ç»å†å¤„ç†æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹å»é™¤æœçš®æœè‚‰ï¼Œå¹¶å¹²ç‡¥å’–å•¡è±†ã€‚ä¸åŒçš„å¤„ç†æ–¹æ³•ï¼Œå¯¹å’–å•¡è±†çš„é£å‘³ã€é…¸åº¦ã€ç”œåº¦ã€é†‡åšåº¦äº§ç”Ÿæ·±è¿œç‹¬ç‰¹çš„å¡‘é€ ä½œç”¨ã€‚</p>

                <div class="mb-6 flex flex-wrap justify-center gap-3" id="processingTabs">
                    <button class="tab-button active" data-processing="washed">æ°´æ´—æ³•</button>
                    <button class="tab-button" data-processing="natural">æ—¥æ™’æ³•</button>
                    <button class="tab-button" data-processing="honey">èœœå¤„ç†æ³•</button>
                    <button class="tab-button" data-processing="wet-hulled">æ¹¿åˆ¨æ³•</button>
                    <button class="tab-button" data-processing="anaerobic">å…¶ä»–ç‰¹è‰²</button>
                </div>

                <div id="processingInfoContainer" class="p-4 bg-stone-50 rounded-lg shadow min-h-[200px]">
                    </div>

                <div class="chart-container mt-6 h-72 md:h-96 max-h-[400px] mx-auto max-w-2xl">
                    <canvas id="processingComparisonChart"></canvas>
                </div>
                 <p class="mt-6 text-stone-700">ç†è§£ä¸åŒå¤„ç†æ³•å¯¹é£å‘³çš„å½±å“ï¼Œæ˜¯å“é‰´ä¹‹æ—…ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚å®ƒè§£é‡Šäº†ä¸ºä½•åŒæ ·äº§åŒºã€ç”šè‡³åŒåº„å›­çš„å’–å•¡è±†ï¼Œä¼šå› å¤„ç†æ–¹å¼ä¸åŒè€Œå‘ˆç°åƒå·®ä¸‡åˆ«çš„é£å‘³é¢è²Œã€‚</p>
            </div>
        </section>

        <section id="body" class="content-section space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-semibold text-amber-700 mb-4">å’–å•¡çš„é†‡åšåº¦â€”â€”å£æ„Ÿçš„é‡é‡ä¸è´¨æ„Ÿ</h2>
                <p class="text-lg leading-relaxed mb-4">å“å°å’–å•¡æ—¶ï¼Œå£è…”ä¸­æ„Ÿå—åˆ°çš„â€œé‡é‡æ„Ÿâ€å’Œâ€œè´¨æ„Ÿâ€å³ä¸ºé†‡åšåº¦ (Body) æˆ–å£æ„Ÿ (Mouthfeel)ã€‚é†‡åšåº¦æŒ‡å’–å•¡æ¶²ä½“çš„é‡é‡æ„Ÿã€ç²˜ç¨ åº¦ï¼Œç”±ä¸æº¶æ€§ç‰©è´¨ï¼ˆç»†å¾®é¢—ç²’ã€è›‹ç™½è´¨ï¼‰å’Œæ²¹è„‚å†³å®šã€‚</p>
                <p class="text-stone-700 mb-6">å£æ„Ÿæ˜¯æ›´å¹¿ä¹‰çš„æ¦‚å¿µï¼ŒåŒ…å«é¡ºæ»‘åº¦ã€æ¶©æ„Ÿã€æ²¹æ¶¦æ„Ÿç­‰æ‰€æœ‰è§¦è§‰æ„Ÿå—ã€‚</p>

                <div class="mb-8">
                    <h3 class="text-xl font-semibold text-amber-600 mb-3">æè¿°é†‡åšåº¦ä¸å£æ„Ÿçš„è¯æ±‡</h3>
                    <div class="grid md:grid-cols-2 gap-4 text-stone-700">
                        <div>
                            <p class="font-medium">é†‡åšåº¦å¼ºåº¦ï¼š</p>
                            <ul class="list-disc list-inside ml-4">
                                <li><strong>è½»ç›ˆ/è½»æ·¡ (Light-bodied / Thin):</strong> å¦‚èŒ¶æ°´èˆ¬ç¨€è–„æ¸…çˆ½ã€‚</li>
                                <li><strong>ä¸­ç­‰ (Medium-bodied):</strong> åœ†æ¶¦é¡ºæ»‘ï¼Œæœ‰å­˜åœ¨æ„Ÿä¸è¿‡äºæ²‰é‡ã€‚</li>
                                <li><strong>é¥±æ»¡/åšé‡ (Full-bodied / Heavy):</strong> æµ“éƒç²˜ç¨ ï¼Œæœ‰æ˜æ˜¾é‡é‡æ„Ÿã€‚</li>
                            </ul>
                        </div>
                        <div>
                            <p class="font-medium">å£æ„Ÿè´¨æ„Ÿï¼š</p>
                            <ul class="list-disc list-inside ml-4">
                                <li><strong>é¡ºæ»‘ (Smooth / Silky / Creamy):</strong> å¦‚ä¸ç»¸æˆ–å¥¶æ²¹èˆ¬ã€‚</li>
                                <li><strong>æ²¹æ¶¦ (Buttery / Oily):</strong> é»„æ²¹èˆ¬çš„æ»‘è…»æ„Ÿã€‚</li>
                                <li><strong>æ¸…çˆ½/çˆ½è„† (Crisp / Juicy):</strong> å¹²å‡€åˆ©è½ï¼Œæœ‰æ´»åŠ›ã€‚</li>
                                <li><strong>æ¶©æ„Ÿ (Astringent / Dry):</strong> æ”¶æ•›ã€å¹²ç‡¥æ„Ÿï¼ˆé€šå¸¸è´Ÿé¢ï¼‰ã€‚</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-amber-600 mb-3">å½±å“é†‡åšåº¦çš„ä¸»è¦å› ç´ </h3>
                     <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4" id="bodyFactorsContainer">
                        </div>
                    <p class="mt-4 text-stone-700">ç†è§£è¿™äº›å› ç´ ï¼Œèƒ½åŠ©æˆ‘ä»¬æ¬£èµé†‡åšåº¦å·®å¼‚ï¼Œå¹¶æ ¹æ®å–œå¥½é€‰æ‹©å’Œè°ƒæ•´å†²ç…®ã€‚</p>
                </div>
            </div>
        </section>

        <section id="tasting" class="content-section space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-semibold text-amber-700 mb-4">å’–å•¡å“é‰´ä¹‹é“â€”â€”å¼€å¯æ„Ÿå®˜ç››å®´</h2>
                <p class="text-lg leading-relaxed mb-6">å’–å•¡å“é‰´ï¼Œæˆ–ç§°æ¯æµ‹ (Cupping)ï¼Œæ˜¯ä¸€å¥—ç³»ç»Ÿæ€§çš„æ„Ÿå®˜è¯„ä¼°æ–¹æ³•ï¼Œæ—¨åœ¨å®¢è§‚åœ°åˆ†æå’Œæè¿°å’–å•¡çš„é£å‘³ç‰¹å¾ã€‚å®ƒä¸ä»…æ˜¯ä¸“ä¸šäººå£«çš„å¿…å¤‡æŠ€èƒ½ï¼Œä¹Ÿæ˜¯çˆ±å¥½è€…æå‡å“é¥®ä¹è¶£ã€æ¢ç´¢ä¸ªäººé£å‘³åå¥½çš„é‡è¦é€”å¾„ã€‚</p>

                <h3 class="text-xl font-semibold text-amber-600 mb-3">å’–å•¡å“é‰´ (æ¯æµ‹) çš„åŸºæœ¬æ­¥éª¤</h3>
                <div id="cuppingStepsContainer" class="space-y-3">
                    </div>
                <p class="mt-6 text-stone-700">ä¸“ä¸šçš„æ¯æµ‹æœ‰ä¸¥æ ¼è§„èŒƒï¼Œå®¶åº­å“é‰´å¯å€Ÿé‰´å…¶æ ¸å¿ƒæ­¥éª¤å’ŒåŸç†ï¼Œé€æ­¥æå‡å“é‰´èƒ½åŠ›ã€‚åœ¨ä¸åŒæ¸©åº¦é˜¶æ®µï¼ˆçƒ­ã€æ¸©ã€å‡‰ï¼‰è¯„ä¼°é£å‘³ã€ä½™éŸµã€é…¸åº¦ã€é†‡åšåº¦ç­‰æ˜¯å…³é”®ã€‚</p>
            </div>
        </section>
    </main>

    <footer class="bg-stone-800 text-stone-300 text-center py-6 mt-auto">
        <p>&copy; 2024 å’–å•¡å“é‰´äº¤äº’æŒ‡å—ã€‚çµæ„Ÿæºè‡ªæä¾›çš„å’–å•¡å“é‰´æŠ¥å‘Šã€‚</p>
    </footer>

    <script>
        // Data extracted from the provided markdown document
        const coffeeData = {
            majorVarieties: [
                {
                    name: "é˜¿æ‹‰æ¯”å¡ (Arabica)",
                    details: "å…¨çƒäº§é‡çº¦69-70%ã€‚é£å‘³å“è¶Šï¼Œé¦™æ°”æµ“éƒï¼Œå‘³é“å‡è¡¡ï¼Œé…¸åº¦æ„‰æ‚¦ï¼Œå¸¦èŠ±é¦™ã€æœé¦™ã€åšæœç­‰å¤æ‚é£å‘³ã€‚å’–å•¡å› å«é‡è¾ƒä½(0.8-1.7%)ã€‚è±†å‹é•¿æ¤­åœ†/æ‰å¹³ï¼ŒSå½¢è£‚çº¹ã€‚å–œé«˜æµ·æ‹”(900-2000m)ï¼Œç§æ¤è¾ƒå¨‡è´µï¼Œæˆæœ¬é«˜ã€‚ä¸»è¦ç”¨äºç²¾å“å’–å•¡ã€‚",
                    production: 70, caffeineMin: 0.8, caffeineMax: 1.7,
                    flavorProfile: "é¦™æ°”æµ“éƒ, å‘³é“å‡è¡¡, é…¸åº¦æ„‰æ‚¦",
                    notes: "èŠ±é¦™, æœé¦™, åšæœ"
                },
                {
                    name: "ç½—å¸ƒæ–¯å¡” (Robusta)",
                    details: "å…¨çƒäº§é‡çº¦30%ã€‚é£å‘³æµ“çƒˆï¼Œè‹¦å‘³é‡ï¼Œé¦™æ°”è¾ƒå¼±ï¼Œé…¸åº¦ä¸è¶³ï¼Œå¸¸æœ‰æ³¥åœŸã€æœ¨è´¨ã€é»‘å·§å…‹åŠ›é£å‘³ã€‚å’–å•¡å› å«é‡é«˜(1.7-4.7%)ã€‚è±†å‹æ¤­åœ†/åœ†å½¢ï¼Œç›´çº¿è£‚çº¹ã€‚é€‚åº”æ€§å¼ºï¼Œè€é«˜æ¸©é«˜æ¹¿ï¼Œä½æµ·æ‹”(0-700m)ç”Ÿé•¿ï¼Œæˆæœ¬ä½ã€‚ä¸»è¦ç”¨äºé€Ÿæº¶ã€ç½è£…ã€æ‹¼é…å’–å•¡ã€‚",
                    production: 30, caffeineMin: 1.7, caffeineMax: 4.7,
                    flavorProfile: "é£å‘³æµ“çƒˆ, è‹¦å‘³é‡",
                    notes: "æ³¥åœŸ, æœ¨è´¨, é»‘å·§å…‹åŠ›"
                },
                {
                    name: "åˆ©æ¯”é‡Œå¡ (Liberica)",
                    details: "å…¨çƒäº§é‡çº¦1-2%ã€‚é£å‘³ç‹¬ç‰¹æµ“çƒˆï¼ŒçƒŸç†ã€æœ¨è´¨ã€é»‘å·§å…‹åŠ›ï¼Œä¼´æœ‰èŠ±é¦™å’Œæœé¦™ç”œå‘³ã€‚å’–å•¡å› å«é‡è¾ƒä½(çº¦1.2%)ã€‚è±†å‹å¤§è€Œä¸è§„åˆ™ã€‚é€‚åº”æ€§å¼ºï¼Œä½æµ·æ‹”ç”Ÿé•¿ã€‚ä¸»è¦äº§åŒºé©¬æ¥è¥¿äºšã€‚ç”¨äºç²¾å“å’–å•¡ï¼Œç‰¹è‰²é£å‘³ã€‚",
                    production: 2, caffeineMin: 1.2, caffeineMax: 1.2,
                    flavorProfile: "ç‹¬ç‰¹æµ“çƒˆ, çƒŸç†æ„Ÿ",
                    notes: "æœ¨è´¨, é»‘å·§å…‹åŠ›, èŠ±é¦™, æœé¦™ç”œå‘³"
                }
            ],
            arabicaSubVarieties: [
                { name: "é“çš®å¡ (Typica)", details: "å¤è€å“ç§ï¼Œé£å‘³çº¯å‡€å¹²å‡€ï¼Œæ˜äº®æŸ æª¬é…¸è´¨ï¼Œä¼˜é›…ç”œæ„Ÿä½™éŸµã€‚æ¤æ ªé«˜å¤§ï¼Œäº§é‡ä¸é«˜ï¼Œè¾ƒè„†å¼±ã€‚è‘—åä»£è¡¨ï¼šç‰™ä¹°åŠ è“å±±ã€è‹é—¨ç­”è…Šæ›¼ç‰¹å®ã€å¤å¨å¤·å¯çº³ã€‚" },
                { name: "æ³¢æ— (Bourbon)", details: "ä¸é“çš®å¡å¹¶ç§°ä¸¤å¤§å§‹ç¥–ã€‚å“è´¨ä¼˜è‰¯ï¼Œçº¢é…’èˆ¬é…¸è´¨ï¼Œæ‚ é•¿ç”œæ„Ÿä½™éŸµã€‚äº§é‡ç•¥é«˜äºé“çš®å¡ã€‚SL28ã€SL34ä¸ºå…¶åä»£é€‰è‚²å“ç§ã€‚" },
                { name: "ç‘°å¤/è‰ºä¼ (Geisha/Gesha)", details: "ç²¾å“å’–å•¡çš‡åã€‚æç‹¬ç‰¹ä¼˜é›…é¦™æ°”ï¼šèŒ‰è‰èŠ±ã€ä½›æ‰‹æŸ‘ã€èŠ±é¦™ï¼Œä¼´æœ‰æŸ‘æ©˜ã€èŠ’æœç­‰å¤æ‚æœé…¸ã€‚å£æ„Ÿé¡ºæ»‘å¹²å‡€ã€‚äº§é‡ç¨€å°‘ï¼Œä»·æ ¼æ˜‚è´µã€‚" },
                { name: "å¸•å¡ç›æ‹‰ (Pacamara)", details: "å¸•å¡æ–¯ä¸é©¬æ‹‰æˆˆæ—¥çš®çš„æ‚äº¤ç§ã€‚è±†ç²’å¤§ã€‚é£å‘³å¤æ‚ï¼ŒèŠ±é¦™ã€é¦™æ–™ã€å¤šæ ·æ°´æœè°ƒæ€§ï¼Œé…¸åº¦æ˜äº®ï¼Œé†‡åšåº¦ä½³ã€‚è¨å°”ç“¦å¤šä»£è¡¨å“ç§ã€‚" },
                { name: "SL28", details: "è‚¯å°¼äºšä»£è¡¨ã€‚æµ“éƒæœæ±æ„Ÿï¼Œé»‘åŠ ä»‘é£å‘³ï¼Œæ˜äº®æŸ æª¬é…¸è´¨ï¼Œç”œæ„Ÿå‡ºè‰²ï¼Œå¹³è¡¡å¤æ‚ã€‚æŠ—æ—±æ€§ã€‚" },
                { name: "SL34", details: "è‚¯å°¼äºšä»£è¡¨ã€‚å¤æ‚æŸ‘æ©˜ç±»é…¸è´¨ï¼Œæµ“éƒåšå®å£æ„Ÿã€‚æŠ—å¤§é›¨èƒ½åŠ›å¼ºã€‚" },
                { name: "å¡æœæ‹‰ (Caturra)", details: "æ³¢æ—è‡ªç„¶å˜å¼‚ç§ï¼Œæ¤æ ªçŸ®å°ï¼Œå¯å¯†æ¤ã€‚æŸ æª¬æˆ–æŸ‘æ©˜èˆ¬é…¸è´¨ï¼Œç”œåº¦å—æ–½è‚¥å½±å“ã€‚" },
                { name: "å¡æœè‰¾ (Catuai)", details: "è’™å¤šè¯ºæ²ƒä¸å¡æœæ‹‰æ‚äº¤ç§ã€‚çŸ®å°æ ªå‹ï¼ŒæŠ—é£ã€‚é£å‘³å‡è¡¡ï¼Œé…¸åº¦è¾ƒé«˜ï¼Œç”œåº¦è‰¯å¥½ã€‚" },
                { name: "è’™å¤šè¯ºæ²ƒ (Mundo Novo)", details: "é“çš®å¡ä¸çº¢æ³¢æ—è‡ªç„¶æ‚äº¤ã€‚æ¤æ ªé«˜å¤§å¼ºå¥ï¼Œäº§é‡é«˜ï¼Œé£å‘³ä¸°å¯Œå¹³è¡¡ï¼ˆæ¦›æœã€å·§å…‹åŠ›ã€æ°´æœï¼‰ã€‚å¯¹ç—…å®³è¾ƒæ•æ„Ÿã€‚" }
            ],
            roastLevels: {
                light: {
                    name: "æµ…åº¦çƒ˜ç„™ (Light Roast)",
                    color: "#D2B48C", // Tan
                    oil: "è±†è¡¨å¹²ç‡¥ï¼Œé€šå¸¸æ— æ˜æ˜¾æ²¹è„‚",
                    details: "å¸¸è§åç§°ï¼šè‚‰æ¡‚çƒ˜ç„™ã€æ–°è‹±æ ¼å…°çƒ˜ç„™ã€‚æœ€å¤§ç¨‹åº¦ä¿ç•™äº§åœ°é£å‘³å’Œå“ç§ç‰¹æ€§ã€‚èŠ±é¦™ã€æœé¦™ã€æŸ‘æ©˜ç±»é¦™æ°”çªå‡ºã€‚é…¸åº¦é«˜ä¸”æ˜äº®æ´»æ³¼ã€‚ç”œæ„Ÿå¯èƒ½è¾ƒä½ï¼Œä½†ä¼˜è´¨è±†æœ‰å¤©ç„¶ç”œæ„Ÿã€‚è‹¦å‘³éå¸¸ä½ã€‚é†‡åšåº¦è½»ç›ˆæˆ–é€‚ä¸­ï¼Œå£æ„Ÿæ¸…æ–°å¦‚èŒ¶ã€‚",
                    acidity: 5, sweetness: 2, bitterness: 1, body: 2, aroma: 5
                },
                medium: {
                    name: "ä¸­åº¦çƒ˜ç„™ (Medium Roast)",
                    color: "#A0522D", // Sienna
                    oil: "è±†è¡¨å¯èƒ½ä¾ç„¶å¹²ç‡¥ï¼Œæˆ–å¼€å§‹å‡ºç°å°‘é‡æ²¹å…‰",
                    details: "å¸¸è§åç§°ï¼šç¾å¼çƒ˜ç„™ã€åŸå¸‚çƒ˜ç„™ã€‚äº§åœ°é£å‘³ä»å¯è¾¨è¯†ï¼Œèå…¥æ›´å¤šçƒ˜ç„™é£å‘³å¦‚ç„¦ç³–ã€å·§å…‹åŠ›ã€åšæœã€‚é¦™æ°”é¥±æ»¡ã€‚é…¸åº¦é™ä½ï¼Œæ›´æŸ”å’Œå¹³è¡¡ã€‚ç”œæ„Ÿæ˜æ˜¾ã€‚è‹¦å‘³ç•¥å¢ï¼Œä½†ä¸ä¸»å¯¼ã€‚é†‡åšåº¦é€‚ä¸­ï¼Œåœ†æ¶¦é¥±æ»¡ã€‚",
                    acidity: 3, sweetness: 4, bitterness: 3, body: 3, aroma: 4
                },
                dark: {
                    name: "æ·±åº¦çƒ˜ç„™ (Dark Roast)",
                    color: "#5E2605", // Dark Brown, almost black
                    oil: "è±†è¡¨æ²¹å…‰é”ƒäº®ï¼Œæ²¹è„‚æå‡ºæ˜æ˜¾",
                    details: "å¸¸è§åç§°ï¼šæ³•å¼çƒ˜ç„™ã€æ„å¼çƒ˜ç„™ã€‚äº§åœ°é£å‘³å¾ˆå¤§ç¨‹åº¦è¢«çƒ˜ç„™é£å‘³æ©ç›–ã€‚çƒŸç†ã€ç„¦é¦™ã€è‹¦å·§å…‹åŠ›ã€é¦™æ–™å‘³ä¸»å¯¼ã€‚é…¸åº¦å¤§å¹…é™ä½ç”šè‡³æ¶ˆå¤±ã€‚ç”œæ„Ÿé™ä½ï¼Œå¯èƒ½ç„¦è‹¦ã€‚è‹¦å‘³éå¸¸æ˜¾è‘—ã€‚é†‡åšåº¦é«˜ï¼Œæµ“éƒåšé‡ã€‚",
                    acidity: 1, sweetness: 1, bitterness: 5, body: 5, aroma: 2
                }
            },
            acids: [
                { name: "ç»¿åŸé…¸ç±» (CGAs)", details: "ç”Ÿè±†ä¸­å«é‡æœ€ä¸°å¯Œã€‚æœ¬èº«è‹¦æ¶©ã€‚çƒ˜ç„™ä¸­é™è§£ä¸ºå¥å®é…¸å’Œå’–å•¡é…¸ï¼Œå½±å“è‹¦å‘³ã€æ¶©æ„Ÿå’Œé†‡åšåº¦ã€‚" },
                { name: "æŸ æª¬é…¸ (Citric Acid)", details: "è´¡çŒ®æ˜äº®ã€æ´»æ³¼çš„æŸ‘æ©˜ç±»æœé…¸ï¼ˆæŸ æª¬ã€æ©™å­ï¼‰ã€‚é«˜æµ·æ‹”é˜¿æ‹‰æ¯”å¡å¸¸è§ï¼Œæµ…ä¸­çƒ˜ç„™ä¿ç•™å¤šã€‚" },
                { name: "è‹¹æœé…¸ (Malic Acid)", details: "å¸¦æ¥æŸ”å’Œã€æ¸…è„†çš„æœé…¸ï¼ˆé’è‹¹æœã€æ¢¨ï¼‰ã€‚è‚¯å°¼äºšå’–å•¡å¸¸è§ï¼Œæµ…çƒ˜ç„™ä¸­æ›´æ˜æ˜¾ã€‚" },
                { name: "å¥å®é…¸ (Quinic Acid)", details: "ç»¿åŸé…¸çƒ­è§£äº§ç‰©ã€‚é€‚é‡æ—¶æä¾›å¹²å‡€å°¾éŸµï¼Œè¿‡é‡åˆ™å¯¼è‡´é…¸æ¶©è‹¦å‘³ã€‚æ·±çƒ˜ã€ä¸æ–°é²œå’–å•¡ä¸­å«é‡é«˜ã€‚" },
                { name: "ä¹™é…¸/é†‹é…¸ (Acetic Acid)", details: "å¾®é‡æ—¶å¸¦æ¥æ´å‡€æ„Ÿã€æ°´æœé†‹èˆ¬ç”œé…¸ã€‚è¿‡é‡åˆ™åˆºæ¿€æ€§é†‹é…¸å‘³ï¼ˆå‘é…µæˆ–çƒ˜ç„™ç¼ºé™·ï¼‰ã€‚" },
                { name: "ä¹³é…¸ (Lactic Acid)", details: "ç‰¹å®šå‘é…µï¼ˆå¦‚åŒæ°§ï¼‰äº§ç”Ÿã€‚å¸¦æ¥æŸ”å’Œé…¸è´¨ï¼Œæå‡é¡ºæ»‘å£æ„Ÿå’Œé†‡åšåº¦ã€‚" },
                { name: "ç£·é…¸ (Phosphoric Acid)", details: "æ— æœºé…¸ã€‚å¢å¼ºæ°´æœé£å‘³ï¼Œå¸¦æ¥â€œæ˜äº®æ„Ÿâ€ã€â€œæ´»åŠ›æ„Ÿâ€ã€â€œèµ·æ³¡æ„Ÿâ€ã€‚éƒ¨åˆ†éæ´²å’–å•¡ï¼ˆå¦‚è‚¯å°¼äºšSL28ï¼‰æ˜æ˜¾ï¼Œå¯èƒ½ä¸å¯Œç£·åœŸå£¤æœ‰å…³ã€‚" }
            ],
            acidityFactors: [
                { name: "å“ç§ä¸äº§åœ°", icon: "ğŸŒ", details: "é˜¿æ‹‰æ¯”å¡é€šå¸¸é…¸åº¦æ›´æ„‰æ‚¦ã€‚ä¸åŒäºšç§ã€äº§åŒºï¼ˆåœŸå£¤ã€æ°”å€™ï¼‰èµ‹äºˆç‹¬ç‰¹é…¸è´¨ã€‚ä¾‹ï¼šè‚¯å°¼äºšå’–å•¡å¸¸æœ‰è“æœé…¸ï¼Œå“¥ä¼¦æ¯”äºšåˆ™æ¸©å’ŒæŸ‘æ©˜é…¸ã€‚" },
                { name: "æµ·æ‹”é«˜åº¦", icon: "â›°ï¸", details: "é«˜æµ·æ‹”é˜¿æ‹‰æ¯”å¡é€šå¸¸é…¸åº¦å“è´¨æ›´é«˜ã€é£å‘³æ›´å¤æ‚ã€‚æˆç†Ÿå‘¨æœŸé•¿ï¼Œç§¯ç´¯æ›´å¤šç³–åˆ†å’Œæœ‰æœºé…¸ã€‚" },
                { name: "å¤„ç†æ³•", icon: "ğŸ’§â˜€ï¸ğŸ¯", details: "æ°´æ´—æ³•ï¼šå¹²å‡€æ˜äº®é…¸åº¦ã€‚æ—¥æ™’æ³•ï¼šé…¸åº¦æŸ”å’Œåœ†æ¶¦ï¼Œè¢«ç”œæ„Ÿå¹³è¡¡ã€‚èœœå¤„ç†æ³•ï¼šä»‹äºä¸¤è€…ä¹‹é—´ï¼Œé…¸åº¦æ¯”æ°´æ´—æŸ”å’Œï¼Œæ¯”æ—¥æ™’æ˜æ˜¾ã€‚" },
                { name: "çƒ˜ç„™ç¨‹åº¦", icon: "ğŸ”¥", details: "çƒ˜ç„™è¶Šæ·±ï¼Œé…¸åº¦è¶Šä½ã€‚æµ…çƒ˜ä¿ç•™æœ€å¤šæœ‰æœºé…¸ï¼Œé…¸åº¦æœ€é«˜ã€‚æ·±çƒ˜æ—¶é…¸ç±»å¤§é‡é™è§£ï¼Œé…¸å‘³å¤§å‡ã€‚" },
                { name: "å†²ç…®æ–¹å¼", icon: "â˜•", details: "æ°´æ¸©ã€ç ”ç£¨ç²—ç»†ã€èƒå–æ—¶é—´ç­‰å½±å“é…¸åº¦æ„ŸçŸ¥ã€‚ä½æ¸©èƒå–å¯èƒ½é…¸è´¨æ›´çªå‡ºã€‚å†·èƒå’–å•¡é…¸åº¦è¿œä½äºçƒ­å†²ã€‚" }
            ],
            processingMethods: {
                washed: {
                    name: "æ°´æ´—æ³• (Washed/Wet Process)",
                    steps: "å»çš® -> æ°´ä¸­å‘é…µ (12-48h)åˆ†è§£æœèƒ¶ -> æ¸…æ´— -> å¹²ç‡¥è‡³å«æ°´ç‡10-12%ã€‚",
                    characteristics: "é£å‘³çº¯å‡€ã€å¹²å‡€ï¼Œæ¸…æ™°å±•ç°å“ç§å’Œé£åœŸç‰¹æ€§ã€‚å¸¸æœ‰èŠ±é¦™ã€æŸ‘æ©˜ç­‰ç»†è…»é£å‘³ã€‚é…¸åº¦æ˜äº®ã€æ´»æ³¼ã€æ¸…æ™°ã€‚é†‡åšåº¦é€‚ä¸­ï¼Œåæ¸…çˆ½ã€‚å“è´¨ç¨³å®šã€‚",
                    acidity: 5, body: 2, sweetness: 3
                },
                natural: {
                    name: "æ—¥æ™’æ³• (Natural/Dry Process)",
                    steps: "å®Œæ•´å’–å•¡æœå®ç›´æ¥æ—¥æ™’å¹²ç‡¥ (2-4å‘¨) -> è„±å£³ã€‚",
                    characteristics: "é£å‘³æµ“éƒå¤æ‚ï¼Œç”œæ„Ÿé«˜ï¼Œå……æ»¡å‘é…µæ°´æœé¦™ï¼ˆè“æœã€çƒ­å¸¦æ°´æœã€é…’é¦™ï¼‰ã€‚é…¸åº¦è¾ƒä½æ²‰ã€åœ†æ¶¦ï¼Œæˆ–è¢«ç”œæ„Ÿå¹³è¡¡ã€‚é†‡åšåº¦è¾ƒé«˜ï¼Œé¥±æ»¡ã€‚å“è´¨æ§åˆ¶è¾ƒéš¾ã€‚",
                    acidity: 2, body: 4, sweetness: 5
                },
                honey: {
                    name: "èœœå¤„ç†æ³• (Honey Process)",
                    steps: "å»å¤–æœçš®ï¼Œä¿ç•™éƒ¨åˆ†æˆ–å…¨éƒ¨æœèƒ¶å±‚ -> æ—¥æ™’å¹²ç‡¥ã€‚",
                    characteristics: "ç”œæ„Ÿéå¸¸çªå‡ºï¼Œæ˜æ˜¾æ°´æœé£å‘³ï¼ˆçº¢ç³–ã€ç„¦ç³–ã€æˆç†Ÿæ°´æœã€èœ‚èœœï¼‰ã€‚é…¸åº¦æ¯”æ°´æ´—æŸ”å’Œï¼Œæ¯”æ—¥æ™’ç•¥æ˜æ˜¾ã€‚é†‡åšåº¦ä¸­ç­‰è‡³é¥±æ»¡ã€‚ç»†åˆ†ä¸ºé»„/çº¢/é»‘èœœï¼Œé»‘èœœé£å‘³æœ€æµ“éƒã€‚",
                    acidity: 3, body: 3, sweetness: 4
                },
                 "wet-hulled": {
                    name: "æ¹¿åˆ¨æ³• (Wet-Hulled / Giling Basah)",
                    steps: "å°å°¼è‹é—¨ç­”è…Šç‰¹è‰²ã€‚å»çš®ã€çŸ­æš‚å‘é…µ/ä¸å‘é…µ -> å’–å•¡è±†å«æ°´ç‡ä»é«˜(30-50%)æ—¶åˆ¨å»æ¹¿æ¶¦ç¾Šçš®çº¸ -> åç»­å¹²ç‡¥ã€‚",
                    characteristics: "é†‡åšåº¦æé«˜ï¼Œæµ“éƒåšé‡ã€‚é…¸åº¦æä½ç”šè‡³æ— ã€‚é£å‘³ç‹¬ç‰¹ï¼šæ³¥åœŸã€è¯è‰ã€é›ªæ¾ã€é¦™æ–™ã€çš®é©ã€çƒŸè‰ç­‰æ·±æ²‰æ°”æ¯ã€‚",
                    acidity: 1, body: 5, sweetness: 2
                },
                anaerobic: { // Combined "Other Specialty" for simplicity in tabs
                    name: "å…¶ä»–ç‰¹è‰²å¤„ç†æ³•",
                    steps: "åŒæ°§å‘é…µï¼šæ— æ°§ç¯å¢ƒå‘é…µã€‚äºŒæ°§åŒ–ç¢³æµ¸æ¸æ³•ï¼šå€Ÿé‰´è‘¡è„é…’é…¿é€ ï¼Œå®Œæ•´æœå®åœ¨CO2ä¸­å‘é…µã€‚",
                    characteristics: "æå…·å®éªŒæ€§ï¼Œäº§ç”Ÿç‹¬ç‰¹ã€å¼ºçƒˆã€å¤æ‚é£å‘³ã€‚åŒæ°§ï¼šæµ“éƒçƒ­å¸¦æ°´æœã€é…’é¦™ã€å‘é…µé¦™ã€‚CO2æµ¸æ¸ï¼šçº¢é…’ã€å¨å£«å¿Œã€é¦™è•‰ã€æ³¡æ³¡ç³–ç­‰éä¼ ç»Ÿé£å‘³ã€‚",
                    acidity: 4, body: 3, sweetness: 4 // Representing general specialty trend
                }
            },
            bodyFactors: [
                { name: "å’–å•¡è±†å“ç§ä¸äº§åœ°", icon: "ğŸŒ°", details: "ç½—å¸ƒæ–¯å¡”é€šå¸¸æ¯”é˜¿æ‹‰æ¯”å¡é†‡åšåº¦é«˜ã€‚ç‰¹å®šäº§åŒºï¼ˆå¦‚å°å°¼è‹é—¨ç­”è…Šæ¹¿åˆ¨è±†ï¼‰é†‡åšåº¦æé«˜ã€‚" },
                { name: "å¤„ç†æ–¹æ³•", icon: "âš™ï¸", details: "æ—¥æ™’æ³•ã€èœœå¤„ç†æ³•ï¼ˆå°¤å…¶é»‘èœœï¼‰ã€æ¹¿åˆ¨æ³•é€šå¸¸é†‡åšåº¦è¾ƒé«˜ã€‚æ°´æ´—æ³•é†‡åšåº¦ç›¸å¯¹è¾ƒä½ï¼Œå£æ„Ÿæ¸…çˆ½ã€‚" },
                { name: "çƒ˜ç„™ç¨‹åº¦", icon: "ğŸ”¥", details: "æµ…çƒ˜é†‡åšåº¦è¾ƒè½»ç›ˆã€‚ä¸­çƒ˜è¶‹äºå¹³è¡¡é¥±æ»¡ã€‚æ·±çƒ˜å› æ²¹è„‚é‡Šå‡ºå’Œå¯æº¶æ€§å¤§åˆ†å­å¢åŠ ï¼Œé†‡åšåº¦éå¸¸é¥±æ»¡åšé‡ã€‚" },
                { name: "å†²ç…®æ–¹æ³•ä¸å‚æ•°", icon: "ğŸ› ï¸", details: "ç ”ç£¨ç»†ã€æ°´ç²‰æ¯”ä½ã€é‡‘å±æ»¤ç½‘ï¼ˆæ³•å‹å£¶ã€æ„å¼ï¼‰é†‡åšåº¦é«˜ã€‚æ»¤çº¸ï¼ˆæ‰‹å†²ã€æ»´æ»¤ï¼‰åˆ™é†‡åšåº¦è¾ƒä½ï¼Œå£æ„Ÿå¹²å‡€ã€‚" }
            ],
            cuppingSteps: [
                { name: "1. å‡†å¤‡å·¥ä½œ", details: "å™¨å…·ï¼šæ¯æµ‹ç¢—ã€åŒ™ã€çƒ­æ°´å£¶ã€ç ”ç£¨æœºã€ç§¤ã€è®¡æ—¶å™¨ã€åæ¯ã€è®°å½•å·¥å…·ã€‚å’–å•¡è±†ï¼šæµ…ä¸­çƒ˜ï¼Œçƒ˜ç„™å8-24hï¼Œæ³¨æ°´å‰15minå†…ç ”ç£¨ã€‚æ°´ï¼šæ´å‡€è¿‡æ»¤æ°´ï¼Œæ°´æ¸©çº¦93Â°Cã€‚æ°´ç²‰æ¯”ï¼šSCAAæ ‡å‡†8.25gç²‰:150mlæ°´ã€‚" },
                { name: "2. é—»å¹²é¦™ (Fragrance)", details: "æ³¨æ°´å‰ï¼Œé—»ç ”ç£¨å¥½çš„å’–å•¡ç²‰é¦™æ°”ã€‚è®°å½•å¼ºåº¦å’Œç‰¹å¾ï¼ˆèŠ±é¦™ã€æœé¦™ã€åšæœç­‰ï¼‰ã€‚" },
                { name: "3. æ³¨æ°´ä¸é—»æ¹¿é¦™ (Aroma / Wet Crust)", details: "çƒ­æ°´å‡åŒ€æ³¨å…¥ï¼Œæµ¸æ¹¿æ‰€æœ‰ç²‰ï¼Œå½¢æˆç²‰æ¸£å±‚ã€‚é™ç½®3-5åˆ†é’Ÿï¼ˆSCAAæ ‡å‡†4åˆ†é’Ÿï¼‰ã€‚ç ´æ¸£å‰é—»æ¹¿é¦™ã€‚" },
                { name: "4. ç ´æ¸£ä¸å†é—»é¦™", details: "æµ¸æ³¡æ—¶é—´åˆ°åï¼Œç”¨åŒ™èƒŒè½»æ¨ç²‰æ¸£å±‚3æ¬¡ç ´æ¸£ã€‚åŒæ—¶é è¿‘æ¯å£æ·±å¸é¦™æ°”ã€‚" },
                { name: "5. ææ¸£ (Skimming)", details: "ç ´æ¸£åï¼Œç”¨ä¸¤æŠŠåŒ™å°†è¡¨é¢ç²‰æ¸£å’Œæ³¡æ²«æé™¤å¹²å‡€ã€‚" },
                { name: "6. å“å°ä¸è¯„ä¼° (Tasting)", details: "å’–å•¡æ¶²é™æ¸©è‡³çº¦70Â°Cå¼€å§‹å“å°ã€‚å•œå¸å…¥å£ï¼Œä½¿å’–å•¡æ¶²é›¾åŒ–è¦†ç›–å£è…”ã€‚è¯„ä¼°ï¼šé£å‘³ã€ä½™éŸµã€é…¸åº¦ã€é†‡åšåº¦ã€ä¸€è‡´æ€§ã€å¹²å‡€åº¦ã€ç”œåº¦ç­‰ã€‚åœ¨ä¸åŒæ¸©åº¦ï¼ˆçƒ­ã€æ¸©ã€å‡‰ï¼‰ä¸‹å“å°ã€‚" }
            ]
        };

        let majorVarietiesChartInstance = null;
        let roastProfileChartInstance = null;
        let processingComparisonChartInstance = null;

        document.addEventListener('DOMContentLoaded', function() {
            const navButtons = document.querySelectorAll('.nav-button');
            const contentSections = document.querySelectorAll('.content-section');

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    contentSections.forEach(section => section.classList.remove('active'));

                    button.classList.add('active');
                    document.getElementById(button.dataset.target).classList.add('active');
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            });

            populateMajorVarieties();
            populateArabicaSubVarieties();
            setupRoastingInteraction();
            populateAcids();
            populateAcidityFactors();
            setupProcessingInteraction();
            populateBodyFactors();
            populateCuppingSteps();

            // Initial chart displays
            updateMajorVarietiesChart(coffeeData.majorVarieties[0]); // Default to Arabica
            updateRoastProfileChart(coffeeData.roastLevels.light); // Default to light roast
            updateProcessingComparisonChart(coffeeData.processingMethods.washed); // Default to washed
        });

        function populateMajorVarieties() {
            const container = document.getElementById('majorVarietiesContainer');
            const detailView = document.getElementById('majorVarietyDetail');
            container.innerHTML = ''; 
            coffeeData.majorVarieties.forEach(variety => {
                const card = document.createElement('div');
                card.className = 'interactive-card';
                card.innerHTML = `<h4 class="text-lg font-semibold text-amber-600 mb-2">${variety.name}</h4><p class="text-sm text-stone-600">${variety.details.substring(0, 100)}...</p>`;
                card.addEventListener('click', () => {
                    document.querySelectorAll('#majorVarietiesContainer .interactive-card').forEach(c => c.classList.remove('selected'));
                    card.classList.add('selected');
                    detailView.innerHTML = `
                        <h4 class="text-lg font-semibold text-amber-700 mb-2">${variety.name}</h4>
                        <p class="text-stone-700 leading-relaxed">${variety.details}</p>
                        <p class="mt-2 text-sm text-stone-600"><strong>å…¨çƒäº§é‡å æ¯”:</strong> ${variety.production}%</p>
                        <p class="text-sm text-stone-600"><strong>å’–å•¡å› å«é‡:</strong> ${variety.caffeineMin}% - ${variety.caffeineMax}%</p>
                    `;
                    updateMajorVarietiesChart(variety);
                });
                container.appendChild(card);
            });
        }
        
        function populateArabicaSubVarieties() {
            const container = document.getElementById('arabicaSubVarietiesContainer');
            const detailView = document.getElementById('arabicaSubVarietyDetail');
            container.innerHTML = '';
            coffeeData.arabicaSubVarieties.forEach(subVariety => {
                const card = document.createElement('div');
                card.className = 'interactive-card';
                card.innerHTML = `<h4 class="text-md font-semibold text-amber-600 mb-1">${subVariety.name}</h4><p class="text-xs text-stone-600">${subVariety.details.substring(0,80)}...</p>`;
                card.addEventListener('click', () => {
                    document.querySelectorAll('#arabicaSubVarietiesContainer .interactive-card').forEach(c => c.classList.remove('selected'));
                    card.classList.add('selected');
                    detailView.innerHTML = `
                        <h4 class="text-lg font-semibold text-amber-700 mb-2">${subVariety.name}</h4>
                        <p class="text-stone-700 leading-relaxed">${subVariety.details}</p>
                    `;
                });
                container.appendChild(card);
            });
        }

        function updateMajorVarietiesChart(selectedVariety) {
            const ctx = document.getElementById('majorVarietiesChart').getContext('2d');
            const labels = coffeeData.majorVarieties.map(v => v.name);
            const productionData = coffeeData.majorVarieties.map(v => v.production);
            const caffeineDataMin = coffeeData.majorVarieties.map(v => v.caffeineMin);
            // const caffeineDataMax = coffeeData.majorVarieties.map(v => v.caffeineMax); // Could use for ranged bar

            if (majorVarietiesChartInstance) {
                majorVarietiesChartInstance.destroy();
            }
            majorVarietiesChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'å…¨çƒäº§é‡å æ¯” (%)',
                            data: productionData,
                            backgroundColor: labels.map(l => l === selectedVariety.name ? '#fbbf24' : '#fcd34d'), // amber-400 / amber-300
                            borderColor: labels.map(l => l === selectedVariety.name ? '#d97706' : '#f59e0b'), // amber-600 / amber-500
                            borderWidth: 1
                        },
                        {
                            label: 'æœ€ä½å’–å•¡å› å«é‡ (%)',
                            data: caffeineDataMin,
                            backgroundColor: labels.map(l => l === selectedVariety.name ? '#a3e635' : '#bef264'), // lime-500 / lime-400
                            borderColor: labels.map(l => l === selectedVariety.name ? '#65a30d' : '#84cc16'), // lime-700 / lime-600
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'ç™¾åˆ†æ¯” (%)' }
                        }
                    },
                    plugins: {
                        title: { display: true, text: 'ä¸»è¦å’–å•¡å“ç§ç‰¹æ€§å¯¹æ¯”' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y + '%';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }

        function setupRoastingInteraction() {
            const roastButtons = document.querySelectorAll('#roasting .tab-button');
            const infoContainer = document.getElementById('roastInfoContainer');
            const beanColorDiv = document.getElementById('roastBeanColor');
            const beanOilP = document.getElementById('roastBeanOil');

            function updateRoastDisplay(roastKey) {
                const roast = coffeeData.roastLevels[roastKey];
                infoContainer.innerHTML = `
                    <h4 class="text-xl font-semibold text-amber-700 mb-2">${roast.name}</h4>
                    <p class="text-stone-700 leading-relaxed">${roast.details}</p>
                `;
                beanColorDiv.style.backgroundColor = roast.color;
                beanOilP.textContent = roast.oil;
                updateRoastProfileChart(roast);
            }

            roastButtons.forEach(button => {
                button.addEventListener('click', () => {
                    roastButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    updateRoastDisplay(button.dataset.roast);
                });
            });
            updateRoastDisplay('light'); // Initial display
        }

        function updateRoastProfileChart(roast) {
            const ctx = document.getElementById('roastProfileChart').getContext('2d');
            if (roastProfileChartInstance) {
                roastProfileChartInstance.destroy();
            }
            roastProfileChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['é…¸åº¦', 'ç”œåº¦', 'è‹¦åº¦', 'é†‡åšåº¦', 'é¦™æ°”'],
                    datasets: [{
                        label: roast.name,
                        data: [roast.acidity, roast.sweetness, roast.bitterness, roast.body, roast.aroma],
                        fill: true,
                        backgroundColor: 'rgba(217, 119, 6, 0.2)', // amber-600 transparent
                        borderColor: '#d97706', // amber-600
                        pointBackgroundColor: '#d97706',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#d97706'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { display: true },
                            suggestedMin: 0,
                            suggestedMax: 5,
                            ticks: { stepSize: 1 }
                        }
                    },
                    plugins: {
                        title: { display: true, text: 'çƒ˜ç„™é£å‘³ç‰¹å¾é›·è¾¾å›¾' }
                    }
                }
            });
        }

        function populateAcids() {
            const container = document.getElementById('acidsContainer');
            container.innerHTML = '';
            coffeeData.acids.forEach(acid => {
                const div = document.createElement('div');
                div.className = 'p-3 bg-stone-50 rounded-lg shadow-sm';
                div.innerHTML = `
                    <h4 class="font-semibold text-amber-600">${acid.name}</h4>
                    <p class="text-sm text-stone-600">${acid.details}</p>
                `;
                container.appendChild(div);
            });
        }
        
        function populateAcidityFactors() {
            const container = document.getElementById('acidityFactorsContainer');
            container.innerHTML = '';
            coffeeData.acidityFactors.forEach(factor => {
                const card = document.createElement('div');
                card.className = 'interactive-card p-4 text-center';
                card.innerHTML = `
                    <span class="text-3xl mb-2 block">${factor.icon}</span>
                    <h4 class="text-md font-semibold text-amber-600 mb-1">${factor.name}</h4>
                    <p class="text-xs text-stone-600">${factor.details}</p>
                `;
                container.appendChild(card);
            });
        }

        function setupProcessingInteraction() {
            const processingTabs = document.querySelectorAll('#processingTabs .tab-button');
            const infoContainer = document.getElementById('processingInfoContainer');

            function updateProcessingDisplay(processingKey) {
                const method = coffeeData.processingMethods[processingKey];
                infoContainer.innerHTML = `
                    <h4 class="text-xl font-semibold text-amber-700 mb-2">${method.name}</h4>
                    <p class="text-sm text-stone-600 mb-1"><strong>æ­¥éª¤ï¼š</strong>${method.steps}</p>
                    <p class="text-sm text-stone-700"><strong>ç‰¹ç‚¹ï¼š</strong>${method.characteristics}</p>
                `;
                updateProcessingComparisonChart(method);
            }

            processingTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    processingTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    updateProcessingDisplay(tab.dataset.processing);
                });
            });
            updateProcessingDisplay('washed'); // Initial display
        }

        function updateProcessingComparisonChart(method) {
            const ctx = document.getElementById('processingComparisonChart').getContext('2d');
            if (processingComparisonChartInstance) {
                processingComparisonChartInstance.destroy();
            }
            processingComparisonChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['é…¸åº¦', 'é†‡åšåº¦', 'ç”œåº¦'],
                    datasets: [{
                        label: method.name,
                        data: [method.acidity, method.body, method.sweetness],
                        backgroundColor: ['#FBBF24', '#F59E0B', '#D97706'], // amber-400, amber-500, amber-600
                        borderColor: ['#B45309', '#92400E', '#78350F'], // amber-700, amber-800, amber-900
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            beginAtZero: true,
                            suggestedMax: 5,
                            title: { display: true, text: 'ç›¸å¯¹å¼ºåº¦ (1-5)' }
                        }
                    },
                    plugins: {
                        title: { display: true, text: `å¤„ç†æ³•ç‰¹æ€§å¯¹æ¯”: ${method.name}` },
                        legend: { display: false }
                    }
                }
            });
        }

        function populateBodyFactors() {
            const container = document.getElementById('bodyFactorsContainer');
            container.innerHTML = '';
            coffeeData.bodyFactors.forEach(factor => {
                const card = document.createElement('div');
                card.className = 'interactive-card p-4 text-center';
                card.innerHTML = `
                    <span class="text-3xl mb-2 block">${factor.icon}</span>
                    <h4 class="text-md font-semibold text-amber-600 mb-1">${factor.name}</h4>
                    <p class="text-xs text-stone-600">${factor.details}</p>
                `;
                container.appendChild(card);
            });
        }

        function populateCuppingSteps() {
            const container = document.getElementById('cuppingStepsContainer');
            container.innerHTML = '';
            coffeeData.cuppingSteps.forEach(step => {
                const div = document.createElement('div');
                // Using details/summary for accordion-like behavior
                div.innerHTML = `
                    <details class="p-3 bg-stone-50 rounded-lg shadow-sm group">
                        <summary class="font-semibold text-amber-600 cursor-pointer group-open:text-amber-700">${step.name}</summary>
                        <p class="text-sm text-stone-600 mt-2">${step.details}</p>
                    </details>
                `;
                container.appendChild(div);
            });
        }

    </script>
</body>
</html>
